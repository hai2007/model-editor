<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="shortcut icon" href="./logo.png">
    <link rel="apple-touch-icon" href="./logo.png">
    <title>Model Editor | 基于image3D.js开发的3D模型数据编辑器</title>
    <link rel="manifest" href="./manifest.json">
    <meta name="apple-mobile-web-app-title" content="Model Editor">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="#fff">
</head>

<body>

    <div id="root"></div>

    <script>

        var host = window.location.host;

        // 获取head标签
        var head = document.getElementsByTagName('head')[0];

        // 创建script
        var script = document.createElement('script');

        // 设置属性
        script.src = "./build/main@v0.1.0.js";

        if (/^127\.0\.0\.1/.test(host) || /^localhost/.test(host)) {
            script.type = 'module';
        }

        // 追加到页面
        head.appendChild(script);

    </script>

    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function () {
                navigator.serviceWorker.register('./ServiceWorker.js', { scope: window.location.origin + window.location.pathname })
                    .then(function (registration) {

                        // 注册成功
                        console.log('ServiceWorker registration successful with scope: ', registration.scope);
                    })
                    .catch(function (err) {

                        // 注册失败:(
                        console.log('ServiceWorker registration failed: ', err);
                    });
            });
        }
    </script>

</body>

</html>
